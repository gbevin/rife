<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
    <meta name="generator" content="JHighlight v1.0 (http://jhighlight.dev.java.net)" />
    <title>05_friends_basic/src/java/tutorial/friends/backend/FriendManager.java</title>
    <link rel="Help" href="http://jhighlight.dev.java.net" />
    <style type="text/css">
code {
color: rgb(0,0,0); font-family: monospace; font-size: 12px; white-space: nowrap;
}
.java_type {
color: rgb(0,44,221);
}
.java_comment {
color: rgb(147,147,147); background-color: rgb(247,247,247);
}
.java_operator {
color: rgb(0,124,31);
}
.java_separator {
color: rgb(0,33,255);
}
.java_plain {
color: rgb(0,0,0);
}
h1 {
font-family: sans-serif; font-size: 16pt; font-weight: bold; color: rgb(0,0,0); background: rgb(210,210,210); border: solid 1px black; padding: 5px; text-align: center;
}
.java_javadoc_comment {
color: rgb(147,147,147); background-color: rgb(247,247,247); font-style: italic;
}
.java_keyword {
color: rgb(0,0,0); font-weight: bold;
}
.java_literal {
color: rgb(188,0,0);
}
.java_javadoc_tag {
color: rgb(147,147,147); background-color: rgb(247,247,247); font-style: italic; font-weight: bold;
}
    </style>
</head>
<body>
<h1>05_friends_basic/src/java/tutorial/friends/backend/FriendManager.java</h1><code><span class="java_comment">/*</span><br />
<span class="java_comment">&nbsp;*&nbsp;Copyright&nbsp;2001-2008&nbsp;Geert&nbsp;Bevin&nbsp;&lt;gbevin[remove]&nbsp;at&nbsp;uwyn&nbsp;dot&nbsp;com&gt;</span><br />
<span class="java_comment">&nbsp;*&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;(the&nbsp;&quot;License&quot;)</span><br />
<span class="java_comment">&nbsp;*&nbsp;$Id:&nbsp;FriendManager.java&nbsp;3877&nbsp;2007-08-03&nbsp;19:48:10Z&nbsp;gbevin&nbsp;$</span><br />
<span class="java_comment">&nbsp;*/</span><span class="java_plain"></span><br />
<span class="java_keyword">package</span><span class="java_plain">&nbsp;tutorial</span><span class="java_separator">.</span><span class="java_plain">friends</span><span class="java_separator">.</span><span class="java_plain">backend</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">config</span><span class="java_separator">.</span><span class="java_type">Config</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">database</span><span class="java_separator">.</span><span class="java_type">Datasources</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">database</span><span class="java_separator">.</span><span class="java_type">DbPreparedStatement</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">database</span><span class="java_separator">.</span><span class="java_type">DbPreparedStatementHandler</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">database</span><span class="java_separator">.</span><span class="java_type">DbQueryManager</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">database</span><span class="java_separator">.</span><span class="java_type">DbRowProcessor</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">database</span><span class="java_separator">.</span><span class="java_plain">queries</span><span class="java_separator">.</span><span class="java_type">CreateTable</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">database</span><span class="java_separator">.</span><span class="java_plain">queries</span><span class="java_separator">.</span><span class="java_type">DropTable</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">database</span><span class="java_separator">.</span><span class="java_plain">queries</span><span class="java_separator">.</span><span class="java_type">Insert</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">uwyn</span><span class="java_separator">.</span><span class="java_plain">rife</span><span class="java_separator">.</span><span class="java_plain">database</span><span class="java_separator">.</span><span class="java_plain">queries</span><span class="java_separator">.</span><span class="java_type">Select</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_javadoc_comment">/**</span><br />
<span class="java_javadoc_comment">&nbsp;*&nbsp;Manages&nbsp;a&nbsp;list&nbsp;of&nbsp;visitors&nbsp;that&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;database.</span><br />
<span class="java_javadoc_comment">&nbsp;*</span><br />
<span class="java_javadoc_comment">&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@author</span><span class="java_javadoc_comment">&nbsp;Geert&nbsp;Bevin&nbsp;(gbevin[remove]&nbsp;at&nbsp;uwyn&nbsp;dot&nbsp;com)</span><br />
<span class="java_javadoc_comment">&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@version</span><span class="java_javadoc_comment">&nbsp;$Revision:&nbsp;3877&nbsp;$</span><br />
<span class="java_javadoc_comment">&nbsp;*/</span><span class="java_plain"></span><br />
<span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">FriendManager</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">DbQueryManager</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;&nbsp;&nbsp;TABLE_NAME_FRIEND&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;friend&quot;</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">FriendManager</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">(</span><span class="java_type">Datasources</span><span class="java_separator">.</span><span class="java_plain">getRepInstance</span><span class="java_separator">().</span><span class="java_plain">getDatasource</span><span class="java_separator">(</span><span class="java_type">Config</span><span class="java_separator">.</span><span class="java_plain">getRepInstance</span><span class="java_separator">().</span><span class="java_plain">getString</span><span class="java_separator">(</span><span class="java_literal">&quot;DATASOURCE&quot;</span><span class="java_separator">)));</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_javadoc_comment">/**</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Installs&nbsp;and&nbsp;populates&nbsp;the&nbsp;database&nbsp;structure.</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@throws</span><span class="java_javadoc_comment">&nbsp;DatabaseException&nbsp;when&nbsp;a&nbsp;database&nbsp;access&nbsp;error&nbsp;occurs.</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;install</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">CreateTable</span><span class="java_plain">&nbsp;create&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">CreateTable</span><span class="java_separator">(</span><span class="java_plain">getDatasource</span><span class="java_separator">())</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">table</span><span class="java_separator">(</span><span class="java_plain">TABLE_NAME_FRIEND</span><span class="java_separator">)</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">columns</span><span class="java_separator">(</span><span class="java_type">Friend</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">);</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;executeUpdate</span><span class="java_separator">(</span><span class="java_plain">create</span><span class="java_separator">);</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Friend</span><span class="java_separator">(</span><span class="java_literal">&quot;JR&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Boyens&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Partner&nbsp;in&nbsp;RIFE&nbsp;crime&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://rifers.org/blogs/jboyens&quot;</span><span class="java_separator">));</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Friend</span><span class="java_separator">(</span><span class="java_literal">&quot;Steph&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Meslin-Weber&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Zaurus&nbsp;Java&nbsp;FAQ,&nbsp;Wonka&nbsp;Java&nbsp;VM,&nbsp;QT/embedded&nbsp;AWT&nbsp;Java&nbsp;bindings&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://adorphuye.com&quot;</span><span class="java_separator">));</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Friend</span><span class="java_separator">(</span><span class="java_literal">&quot;Eugene&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Ciurana&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Author,&nbsp;Sushi&nbsp;expert,&nbsp;Muay&nbsp;Thai,&nbsp;#java&nbsp;IRC&nbsp;channel&nbsp;pastebin,&nbsp;variety&nbsp;of&nbsp;tools&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://eugeneciurana.com&quot;</span><span class="java_separator">));</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Friend</span><span class="java_separator">(</span><span class="java_literal">&quot;Mikael&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Hallendal&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;GNOME,&nbsp;Loudmoudth,&nbsp;Gossip,&nbsp;MrPoject,&nbsp;Devhelp,&nbsp;Yelp&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://www.imendio.com&quot;</span><span class="java_separator">));</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Friend</span><span class="java_separator">(</span><span class="java_literal">&quot;Paul&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Fleischer&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;PapuaWM&nbsp;-&nbsp;a&nbsp;minimalistic&nbsp;windowmanager&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://www.papuaos.org/papuawm&quot;</span><span class="java_separator">));</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Friend</span><span class="java_separator">(</span><span class="java_literal">&quot;Mike&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Newman&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;gnome-pkgview,&nbsp;gtkdial,&nbsp;gwvedit,&nbsp;gpuce,&nbsp;LemmingChat&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://www.greatnorthern.demon.co.uk/packages/&quot;</span><span class="java_separator">));</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Friend</span><span class="java_separator">(</span><span class="java_literal">&quot;Lasse&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Bang&nbsp;Mikkelsen&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;PapuaWEB&nbsp;-&nbsp;a&nbsp;php&nbsp;page&nbsp;publishing&nbsp;environment&nbsp;with&nbsp;authentication.&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;http://www.papuaos.org/papuaweb&quot;</span><span class="java_separator">));</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_javadoc_comment">/**</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Adds&nbsp;data&nbsp;of&nbsp;a&nbsp;&lt;code&gt;Friend&lt;/code&gt;&nbsp;instance&nbsp;to&nbsp;the&nbsp;database.</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;friend&nbsp;the&nbsp;&lt;code&gt;Friend&lt;/code&gt;&nbsp;that&nbsp;will&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;database</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@throws</span><span class="java_javadoc_comment">&nbsp;DatabaseException&nbsp;when&nbsp;a&nbsp;database&nbsp;access&nbsp;error&nbsp;occurs</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;add</span><span class="java_separator">(</span><span class="java_keyword">final</span><span class="java_plain">&nbsp;</span><span class="java_type">Friend</span><span class="java_plain">&nbsp;friend</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Insert</span><span class="java_plain">&nbsp;insert&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Insert</span><span class="java_separator">(</span><span class="java_plain">getDatasource</span><span class="java_separator">())</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">into</span><span class="java_separator">(</span><span class="java_plain">TABLE_NAME_FRIEND</span><span class="java_separator">)</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">fieldsParameters</span><span class="java_separator">(</span><span class="java_type">Friend</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">);</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;executeUpdate</span><span class="java_separator">(</span><span class="java_plain">insert</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">DbPreparedStatementHandler</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setParameters</span><span class="java_separator">(</span><span class="java_type">DbPreparedStatement</span><span class="java_plain">&nbsp;statement</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statement</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">setBean</span><span class="java_separator">(</span><span class="java_plain">friend</span><span class="java_separator">);</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">});</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_javadoc_comment">/**</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Display&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;database.</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;processor&nbsp;the&nbsp;&lt;code&gt;DbRowProcessor&lt;/code&gt;&nbsp;that&nbsp;will&nbsp;process&nbsp;the</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;results</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@throws</span><span class="java_javadoc_comment">&nbsp;DatabaseException&nbsp;when&nbsp;a&nbsp;database&nbsp;access&nbsp;error&nbsp;occurs</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;display</span><span class="java_separator">(</span><span class="java_type">DbRowProcessor</span><span class="java_plain">&nbsp;processor</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Select</span><span class="java_plain">&nbsp;select&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Select</span><span class="java_separator">(</span><span class="java_plain">getDatasource</span><span class="java_separator">())</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">from</span><span class="java_separator">(</span><span class="java_plain">TABLE_NAME_FRIEND</span><span class="java_separator">)</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">fields</span><span class="java_separator">(</span><span class="java_type">Friend</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">orderBy</span><span class="java_separator">(</span><span class="java_literal">&quot;firstname&quot;</span><span class="java_separator">);</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;fetch&nbsp;every&nbsp;row&nbsp;in&nbsp;the&nbsp;resultset&nbsp;and&nbsp;forward&nbsp;the&nbsp;processing</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;of&nbsp;the&nbsp;data&nbsp;to&nbsp;the&nbsp;DisplayProcessor</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;executeFetchAll</span><span class="java_separator">(</span><span class="java_plain">select</span><span class="java_separator">,</span><span class="java_plain">&nbsp;processor</span><span class="java_separator">);</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_javadoc_comment">/**</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;the&nbsp;database&nbsp;structure.</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@throws</span><span class="java_javadoc_comment">&nbsp;DatabaseException&nbsp;when&nbsp;a&nbsp;database&nbsp;access&nbsp;error&nbsp;occurs.</span><br />
<span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;remove</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">DropTable</span><span class="java_plain">&nbsp;drop&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">DropTable</span><span class="java_separator">(</span><span class="java_plain">getDatasource</span><span class="java_separator">())</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">table</span><span class="java_separator">(</span><span class="java_plain">TABLE_NAME_FRIEND</span><span class="java_separator">);</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;executeUpdate</span><span class="java_separator">(</span><span class="java_plain">drop</span><span class="java_separator">);</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
</code>
</body>
</html>
